---
displayNumber: 187
status: in-progress
priority: 2
createdAt: 2026-02-11T17:48:18.268889+00:00
updatedAt: 2026-02-23T01:04:32.205669+00:00
---

# Add LLM-friendly syntax hints to unknown command error messages

## Summary

When a user (or an LLM agent working with the CLI) runs an unknown or misspelled command, the error message should include helpful syntax hints and a reference to the `centy llm` command. This is especially important for AI assistants that interact with the CLI, as they need clear guidance on available commands and correct syntax.

## Current Behavior

When an unknown command is entered, oclif returns a generic error with exit code 2:

```
$ centy foobar
 ›   Error: command foobar not found
```

This provides no guidance on what the correct command might be or how to discover available commands.

## Proposed Behavior

The error message for unknown commands should be enhanced to include:

1. **The original error** — keep the "command not found" message
2. **Did you mean? suggestions** — suggest similar commands if a close match exists
3. **Syntax reference** — show the general command structure: `centy <command> [subcommand] [flags]`
4. **LLM detection hint** — include a note like:
   ```
   If you are an AI/LLM assistant, run `centy llm` first to get full instructions for working with this CLI.
   ```
5. **Help pointer** — remind users about `centy --help` to list all available commands

### Example Enhanced Error Output

```
 ›   Error: command "foobar" not found.

  Did you mean: ...

  Usage: centy <command> [subcommand] [args] [flags]

  Run `centy --help` to see all available commands.

  AI/LLM assistant? Run `centy llm` to get full instructions for working with this CLI.
```

## LLM Instructions: Open GitHub Issues for Missing Syntax

The `centy llm` command output (the `.centy/README.md` instructions) should be updated to instruct LLM agents that if they encounter a missing command, unsupported syntax, or a feature gap they believe should exist, they should **open a GitHub issue** on the `centy-io/centy-cli` repository describing:

- The command or syntax they expected to work
- What they were trying to accomplish
- A suggested command structure

This creates a feedback loop where AI agents actively contribute to CLI improvement by reporting gaps they encounter during real usage. The error message for unknown commands should also include a line like:

```
Think this command should exist? Open an issue: gh issue create --repo centy-io/centy-cli --title "Missing command: <command>"
```

## Benefits

- **Better LLM integration**: AI agents can self-correct and discover the right commands
- **AI-driven feedback loop**: LLM agents proactively report missing syntax as GitHub issues
- **Better UX**: Human users also get more helpful error messages
- **Discoverability**: Points users toward help and available commands

## Implementation Notes

- oclif supports custom error handling — look into overriding the `catch` method or using a custom `command_not_found` hook
- The `centy llm` command already exists and outputs AI assistant instructions from `.centy/README.md`
- Update `.centy/README.md` to add a section instructing LLMs to open GitHub issues for missing commands/syntax
- The error message itself should include the `gh issue create` hint so agents can act on it immediately
- Consider also adding a brief command list (top-level categories) in the error output

## Acceptance Criteria

- [ ] Unknown command errors include the general syntax format
- [ ] Unknown command errors suggest running `centy --help`
- [ ] Unknown command errors include an LLM callout suggesting `centy llm`
- [ ] Did you mean? suggestions are shown when a close match exists
- [ ] Error output includes a hint to open a GitHub issue for missing commands
- [ ] `centy llm` output (README.md) instructs LLM agents to open GitHub issues when they encounter missing syntax
- [ ] Error output remains clean and not overly verbose for human users
