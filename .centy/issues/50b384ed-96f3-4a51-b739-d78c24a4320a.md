---
displayNumber: 124
status: open
priority: 2
createdAt: 2025-12-23T18:45:29.779507+00:00
updatedAt: 2026-02-10T13:01:14.426752+00:00
---

# Support Node.js runtime with Bun fallback detection

## Problem

`bin/run.js` has `#!/usr/bin/env bun` shebang, but users installing via npm/pnpm likely have Node.js, not Bun. This causes the CLI to fail for users without Bun installed.

## Solution

Implement runtime detection that:

1. **Prefers Bun** when available (faster startup)
1. **Falls back to Node.js** when Bun is missing
1. **Shows a friendly message** suggesting Bun for better performance when using Node.js

## Implementation

1. Create shell wrapper `bin/run` that detects Bun vs Node.js
1. Update `bin/run.js` shebang to `#!/usr/bin/env node`
1. Update `package.json` bin entry to point to wrapper
1. Add Windows support via `bin/run.cmd`

## Behavior

| Bun installed? | What happens                                                      |
| -------------- | ----------------------------------------------------------------- |
| Yes            | Uses Bun, no message                                              |
| No             | Uses Node.js, shows “Tip: Install Bun for faster CLI performance” |

## Files to modify

- `bin/run` (new shell wrapper)
- `bin/run.cmd` (new Windows wrapper)
- `bin/run.js` (update shebang)
- `package.json` (update bin entry)
