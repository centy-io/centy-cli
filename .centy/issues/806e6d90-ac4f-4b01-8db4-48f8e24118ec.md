---
displayNumber: 189
status: in-progress
priority: 2
createdAt: 2026-02-16T09:59:38.909470+00:00
updatedAt: 2026-02-16T10:01:22.451242+00:00
---

# Auto-generate TypeScript types from proto definitions

Currently the TypeScript types in `src/daemon/types/` are manually written and kept in sync with the `.proto` files by hand. This is error-prone and creates maintenance overhead every time the proto schema changes.

We should use a code generation tool (e.g. `ts-proto`, `protobuf-ts`, or `buf generate` with a TS plugin) to auto-generate the TypeScript interfaces from `proto/centy/v1/*.proto`.

## Tasks

- Pick a proto-to-TS code generation library
- Configure code generation (e.g. `buf.gen.yaml` or npm script)
- Generate types into a dedicated directory (e.g. `src/daemon/generated/`)
- Update all imports in `src/daemon/types.ts` and `grpc-client-*.ts` to use generated types
- Add the generated directory to the ESLint ignore config if needed
- Add a `proto:gen` (or similar) npm script for regeneration
- Add generated files to `.gitignore` or commit them (team decision)

## Acceptance Criteria

- TypeScript types are generated from proto, not hand-written
- `pnpm proto:gen` (or equivalent) regenerates all types
- ESLint passes (generated files excluded if necessary)
- All existing tests still pass
- No manual type definitions remain for proto messages
