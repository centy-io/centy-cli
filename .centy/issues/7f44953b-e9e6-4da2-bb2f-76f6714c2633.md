---
displayNumber: 197
status: open
priority: 2
createdAt: 2026-02-17T12:00:00.000000+00:00
updatedAt: 2026-02-17T12:00:00.000000+00:00
---

# Consolidate CLI update commands to use generic UpdateItem RPC

Replace the type-specific `update issue`, `update doc`, `update org`, `update user` commands with a single generic `centy update <type> <id>` command that calls the daemon's `updateItem` gRPC endpoint.

## Current state

- `src/commands/update/issue.ts` calls `daemonUpdateIssue` (type-specific)
- `src/commands/update/doc.ts` calls `daemonUpdateDoc` (type-specific)
- `src/commands/update/org.ts`, `update/user.ts` — each with their own daemon wrappers
- The daemon already has a generic `UpdateItem` RPC in `grpc-client-items.ts` that accepts `itemType`, `itemId`, and update fields

## Target UX

```bash
centy update issue 1 --status closed
centy update issue 1 --title "New title" --priority high
centy update doc my-doc --title "Updated Guide"
centy update epic 1 --status in-progress --priority 1
centy update bug abc123 --status closed
```

## Implementation

### New files

- `src/commands/update/item.ts` — Generic oclif command with `<type>` and `<id>` as positional args. Flags: `--title`, `--body`/`--description`, `--status`, `--priority`, `--draft`, `--custom-field key=value`, `--project`

### Modified files

- `src/commands/update/issue.ts` — Replace with alias/wrapper
- `src/commands/update/doc.ts` — Same
- `src/commands/update/org.ts` — Same
- `src/commands/update/user.ts` — Same

### Notes

- Priority conversion (high/medium/low to 1/2/3) should be generalized based on the item type's `priorityLevels` config
- The `--draft` flag is currently issue-specific; determine if it should be a generic concept or a custom field
- Validation of allowed statuses should use the item type's config from the daemon

## Related

- Part of #198 (Umbrella: Consolidate all CRUD commands to generic `centy <operation> <type>` format)
- gRPC client: `src/daemon/grpc-client-items.ts` (`updateItem`)
- Proto type: `generated/centy/v1/generic_item.ts` (`UpdateItemRequest`)
