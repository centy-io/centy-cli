---
displayNumber: 183
status: in-progress
priority: 1
createdAt: 2026-02-10T15:53:16.451040+00:00
updatedAt: 2026-02-10T23:10:13.676051+00:00
---

# Update DaemonResponseError to parse structured JSON error responses

The daemon is switching from plain string errors to structured JSON error objects (see centy-daemon issue #161).

## What changed in the daemon

The `error` field in gRPC responses will change from plain text:

```
Issue not found: Issue 01eef871-8fde-45b5-b330-571673d84e6a not found
```

To a JSON-serialized object:

```json
{
  "cwd": "/path/to/project",
  "logs": "~/.centy/logs/centy-daemon.log",
  "messages": [
    {
      "message": "Issue not found",
      "tip": "Check that the issue ID or display number is correct, or run 'centy list issues' to see available issues",
      "code": "ISSUE_NOT_FOUND"
    }
  ]
}
```

## What needs to change in the CLI

1. Update `DaemonResponseError` to parse the JSON error object
1. Display the `message` field as the primary error text
1. Display `tip` as a hint/suggestion to the user (if present)
1. Use `code` for any programmatic error handling
1. Show the `logs` path when relevant (e.g., unexpected errors)
1. During the transition period, detect the format: try JSON parse, fall back to displaying the raw string for backward compatibility with older daemon versions
